{UTF-8}
stagegate indicator[zero]=
	IF THEN ELSE(Stagegate = 0, 1, 0) ~~|
stagegate indicator[one]=
	IF THEN ELSE(Stagegate = 1, 1, 0) ~~|
stagegate indicator[two]=
	IF THEN ELSE(Stagegate = 2, 1, 0) ~~|
stagegate indicator[three]=
	IF THEN ELSE(Stagegate = 3, 1, 0) ~~|
stagegate indicator[four]=
	IF THEN ELSE(Stagegate = 4, 1, 0) ~~|
stagegate indicator[five]=
	IF THEN ELSE(Stagegate = 5, 1, 0) ~~|
stagegate indicator[six]=
	IF THEN ELSE(Stagegate = 6, 1, 0) ~~|
stagegate indicator[seven]=
	IF THEN ELSE(Stagegate = 7, 1, 0) ~~|
stagegate indicator[eight]=
	IF THEN ELSE(Stagegate = 8, 1, 0) ~~|
stagegate indicator[nine]=
	IF THEN ELSE(Stagegate = 9, 1, 0) ~~|
stagegate indicator[ten]=
	IF THEN ELSE(Stagegate = 10, 1, 0)
	~	
	~		|

current investment amount=
	investment amount by stagegate[zero] * stagegate indicator[zero]
	+
	investment amount by stagegate[one] * stagegate indicator[one]
	+
	investment amount by stagegate[two] * stagegate indicator[two]
	+
	investment amount by stagegate[three] * stagegate indicator[three]
	+
	investment amount by stagegate[four] * stagegate indicator[four]
	+
	investment amount by stagegate[five] * stagegate indicator[five]
	+
	investment amount by stagegate[six] * stagegate indicator[six]
	+
	investment amount by stagegate[seven] * stagegate indicator[seven]
	+
	investment amount by stagegate[eight] * stagegate indicator[eight]
	+
	investment amount by stagegate[nine] * stagegate indicator[nine]
	+
	investment amount by stagegate[ten] * stagegate indicator[ten]
	~	
	~		|

investment amount by stagegate[zero]=
	0 ~~|
investment amount by stagegate[one]=
	100 ~~|
investment amount by stagegate[two]=
	200 ~~|
investment amount by stagegate[three]=
	300 ~~|
investment amount by stagegate[four]=
	400 ~~|
investment amount by stagegate[five]=
	500 ~~|
investment amount by stagegate[six]=
	600 ~~|
investment amount by stagegate[seven]=
	700 ~~|
investment amount by stagegate[eight]=
	800 ~~|
investment amount by stagegate[nine]=
	900 ~~|
investment amount by stagegate[ten]=
	1000
	~	
	~		|

advance stagegate indicator=
	IF THEN ELSE(MODULO(Time + TIME STEP, stagegate length) = 0 :AND: Time > 0,
	             1,
	             0)
	~	Dmnl
	~		|

advancing stagegate=
	advance stagegate indicator / TIME STEP
	~	 [0,?]
	~		|

Stagegate= INTEG (
	advancing stagegate,
		0)
	~	
	~		|

stagegate length=
	1.5
	~	Year [0,10,0.25]
	~		|

stagegates:
	zero, one, two, three, four, five, six, seven, eight, nine, ten
	~	
	~		|

********************************************************
	.Control
********************************************************~
		Simulation Control Parameters
	|

FINAL TIME  = 20
	~	Year
	~	The final time for the simulation.
	|

INITIAL TIME  = 0
	~	Year
	~	The initial time for the simulation.
	|

SAVEPER  = 
        TIME STEP
	~	Year [0,?]
	~	The frequency with which output is stored.
	|

TIME STEP  = 0.25
	~	Year [0,?]
	~	The time step for the simulation.
	|

\\\---/// Sketch information - do not modify anything except names
V300  Do not put anything below this section - it will be ignored
*View 1
$192-192-192,0,Times New Roman|12||0-0-0|0-0-0|0-0-255|-1--1--1|-1--1--1|96,96,100,0
10,1,stagegate length,208,294,50,11,8,3,0,0,0,0,0,0
10,2,Time,353,350,26,11,8,2,0,3,-1,0,0,0,128-128-128,0-0-0,|12||128-128-128
10,3,advance stagegate indicator,210,382,58,19,8,3,0,0,0,0,0,0
1,4,1,3,0,0,0,0,0,128,0,-1--1--1,,1|(208,327)|
1,5,2,3,0,0,0,0,0,128,0,-1--1--1,,1|(304,360)|
10,6,Stagegate,393,454,40,20,3,3,0,0,0,0,0,0
12,7,48,183,458,10,8,0,3,0,0,-1,0,0,0
1,8,10,6,4,0,0,22,0,0,0,-1--1--1,,1|(316,458)|
1,9,10,7,100,0,0,22,0,0,0,-1--1--1,,1|(230,458)|
11,10,48,273,458,6,8,34,3,0,0,1,0,0,0
10,11,advancing stagegate,273,485,32,19,40,3,0,0,-1,0,0,0
1,12,3,10,1,0,0,0,0,128,0,-1--1--1,,1|(257,419)|
10,13,TIME STEP,317,552,50,11,8,2,0,3,-1,0,0,0,128-128-128,0-0-0,|12||128-128-128
1,14,13,11,1,0,0,0,0,64,0,-1--1--1,,1|(267,528)|
10,15,TIME STEP,365,387,50,11,8,2,0,3,-1,0,0,0,128-128-128,0-0-0,|12||128-128-128
1,16,15,3,0,0,0,0,0,64,0,-1--1--1,,1|(298,384)|
10,17,stagegate indicator,553,441,58,11,8,3,0,0,0,0,0,0
1,18,6,17,0,0,0,0,0,64,0,-1--1--1,,1|(457,448)|
10,19,investment amount by stagegate,571,508,59,19,8,3,0,0,0,0,0,0
10,20,current investment amount,737,469,58,19,8,3,0,0,0,0,0,0
1,21,17,20,0,0,0,0,0,128,0,-1--1--1,,1|(638,453)|
1,22,19,20,0,0,0,0,0,128,0,-1--1--1,,1|(647,490)|
///---\\\
:L<%^E!@
1:stagegate-tracker-local.vdf
9:stagegate-tracker-local
15:0,0,0,0,0,0
19:100,0
27:0,
34:0,
4:Time
5:current investment amount
35:Date
36:YYYY-MM-DD
37:2000
38:1
39:1
40:0
41:0
42:1
24:0
25:20
26:20
6:zero
